var $authInputs = $(".auth__input"),
    $authButton = $("#authSubmit"),
    $username = $("#username"),
    $password = $("#password"),
    $passwordConfirm = $("#passwordConfirm"),
    $email = $("#email"),
    $otherError = $("#authError");
function authType() {
    return $("#auth").attr("type");
}
function authenticate() {
    if ((showLoader("Authenticating"), _validateInput($username) && _validateInput($password))) {
        var a,
            t = $username.val(),
            r = $password.val(),
            o = { username: t, password: r };
        if ("register" === authType()) {
            if (((a = "https://glockclicker.xyz/api/auth/register"), !_validateInput($email) || !_validateInput($passwordConfirm))) return;
            var e = $email.val();
            if (r !== $passwordConfirm.val()) return void setInputError($passwordConfirm, "Password does not match!");
            o.email = e;
        } else a = "https://glockclicker.xyz/api/auth/login";
        $authButton.prop("disabled", !0),
            $otherError.removeAttr("error"),
            getCaptchaToken(authType, function (t) {
                (o.captcha = t),
                    wrapRequest($.post(a, o), function (a) {
                        !1 !== a && (window.location.href = "https://glockclicker.xyz/panel");
                    });
            });
    }
}
$authInputs.on("input", function () {
    var a,
        t = "register" === authType();
    (a = t ? [$username, $email, $password, $passwordConfirm] : [$username, $password]),
        validateAll(a)
            ? t && $passwordConfirm.val() !== $password.val()
                ? (setInputError($passwordConfirm, "Passwords dont match!"), $authButton.prop("disabled", !0))
                : (inputClean($passwordConfirm), $authButton.prop("disabled", !1))
            : $authButton.prop("disabled", !0);
}),
    $authButton.on("click", function () {
        authenticate();
    });
